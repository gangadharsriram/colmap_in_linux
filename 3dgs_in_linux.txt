#conda 

wget https://repo.anaconda.com/archive/Anaconda3-2024.06-1-Linux-x86_64.sh
bash Anaconda3-2024.06-1-Linux-x86_64.sh


#imagemagick
sudo apt install imagemagick -y

#FFMPEG
sudo apt install ffmpeg -y


#colmap 89

sudo apt-get install \
    git \
    cmake \
    ninja-build \
    build-essential \
    libboost-program-options-dev \
    libboost-filesystem-dev \
    libboost-graph-dev \
    libboost-system-dev \
    libeigen3-dev \
    libflann-dev \
    libfreeimage-dev \
    libmetis-dev \
    libgoogle-glog-dev \
    libgtest-dev \
    libsqlite3-dev \
    libglew-dev \
    qtbase5-dev \
    libqt5opengl5-dev \
    libcgal-dev \
    libceres-dev

#for headless
apt-get install -y xvfb


#install colmap
mkdir temp_dir
cd temp_dir
git clone https://github.com/colmap/colmap.git
cd colmap
mkdir build
cd build
cmake -GNinja -DCMAKE_CUDA_ARCHITECTURES="80;86;87" .. # for Ampere arch only
# refer this website https://docs.nvidia.com/cuda/cuda-compiler-driver-nvcc/#base-notation
ninja
sudo ninja install
cd ../..


#3dgs
git clone https://github.com/graphdeco-inria/gaussian-splatting --recursive
cd gaussian-splatting
conda env create --file environment.yml
conda activate gaussian_splatting


python convert.py -s "/workspace/gaussian-splatting/data/office_space_side_full"
